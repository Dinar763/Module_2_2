# CRUD приложение

## Описание проекта

Проект представляет собой сервис для управления авторами (writers), их публикациями (posts) и лейблами (labels).


Реализация включает в себя:

- CRUD операции для сущностей Writer, Post, Label
- Валидацию входных данных
- Хранение данных в JSON-файлах
- Управление статусами записей (ACTIVE/DELETED)

## Структура проекта

Сущности:

- Writer (id, firstName, lastName, List<Post> posts)
- Post (id, title, content, List<Label> labels)
- Label(id, name)
- Status (enum ACTIVE, DELETED)

Слои:
- model - POJO клаcсы
- repository - классы, реализующие доступ к текстовым файлам
- controller - обработка запросов от пользователя
- view - все данные, необходимые для работы с консолью

## Описание работы

Это консольное приложение предоставляет функционал для управления сущностями:
- Авторы (Writer)
- Посты (Post)
- Лейблы (Label)

Все данные сохраняются в JSON-файлы и могут быть восстановлены при следующем запуске приложения.

## Технологии

- Java 21
- Gson для работы с JSON
- Lombok
- Maven для сборки проекта

## Запуск приложения

1) Клонируйте репозиторий:

   git clone https://github.com/Dinar763/Module_1_3.git

2) Соберите проект

   mvn clean package

3) Запустите приложение

   java -jar Module_1_3-1.0-SNAPSHOT-jar-with-dependencies.jar

## Инструкция работы в меню
![img.png](assets/img.png)

Здесь нужно выбрать необходимый раздел для работы
- если вы хотите работать с постами, введите цифру 1 и нажмите Enter
- если вы хотите работать с авторами, введите цифру 1 и нажмите Enter
- если вы хотите работать с лейблами, введите цифру 1 и нажмите Enter
- если вы хотите прекратить работу с программой, введите цифру 0 и нажми

Далее работа строится по аналогичной концепции с любой сущностью, давайте рассмотрим на примере постов

![img_1.png](assets/img_1.png)

Здесь можно выбрать необходимое действие, которе будет произведено с выбранной сущностью
- нажав цифру 1 и нажав Enter вы можете создать новый пост, далее вам будет предложено ввести сначала название поста, а затем описание поста
- нажав цифру 2 и нажав Enter вы можете редактировать уже созданный ранее пост, далее вам будет предложено ввести ID поста и далее нужно будет ввести те данные которые необходимо отредактировать
- нажав цифру 3 и нажав Enter вы можете удалить уже созданный ранее пост, далее вам будет предложено ввести ID поста
- нажав цифру 4 и нажав Enter вы можете посмотреть список всех постов
- нажав цифру 5 и нажав Enter вы можете отыскать нужный пост по его ID, далее вам будет предложено ввести ID поста
- нажав цифру 0 и нажав Enter вы можете перейти в предыдущее меню

## Инструкция работы с json файлами

Генерация и хранение файлов
Расположение файлов:

Все JSON-файлы автоматически создаются в папке src/main/resources/

Основные файлы данных:
writers.json - хранит данные об авторах
posts.json - содержит информацию о постах
labels.json - сохраняет данные о метках

Формат данных:
- Каждый файл содержит массив объектов в формате JSON

Пример структуры posts.json:

[
{
"id": 1,
"title": "Пример поста",
"content": "Текст содержимого",
"labels": [1, 2],
"status": "ACTIVE"
}
]

Правила работы с файлами
Автоматическое создание:
- Файлы генерируются при первом запуске программы

Если файлы удалены - они создадутся заново при следующем запуске

Ручное редактирование (не рекомендуется):
- Можно редактировать файлы вручную, но только при выключенном приложении
  Обязательно сохраняйте валидный JSON-формат

После изменений перезапустите приложение

Особенности хранения:
- Удаленные объекты остаются в файле с статусом DELETED

ID всегда уникальны и не повторяются


Проблемы при запуске:
Если при запуске jar файла в терминале сбивается кодировка(некорректно отображается латиница)
- попробуйте запускать с явным указанием кодировки
    - java -Dfile.encoding=UTF-8 -jar Module_1_3-1.0-SNAPSHOT-jar-with-dependencies.jar






